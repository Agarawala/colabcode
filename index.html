<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CollabCode - Real-Time Collaborative Editor</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1 class="logo">
                    <span class="logo-bracket">&lt;</span>
                    <span class="logo-text">CollabCode</span>
                    <span class="logo-bracket">/&gt;</span>
                </h1>
                <div class="session-info">
                    <span class="session-label">SESSION:</span>
                    <span class="session-id" id="sessionId">...</span>
                </div>
            </div>
            <div class="header-right">
                <div class="user-badge">
                    <div class="user-color" id="userColor"></div>
                    <span class="user-name" id="userName">User</span>
                </div>
                <button class="btn btn-share" id="shareBtn">
                    <span>SHARE</span>
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-container">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3 class="sidebar-title">CONNECTED USERS</h3>
                    <div class="users-list" id="usersList">
                        <!-- Users will be dynamically added -->
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3 class="sidebar-title">DOCUMENT INFO</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Lines:</span>
                            <span class="info-value" id="lineCount">1</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Chars:</span>
                            <span class="info-value" id="charCount">0</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Cursors:</span>
                            <span class="info-value" id="cursorCount">1</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Edits:</span>
                            <span class="info-value" id="editCount">0</span>
                        </div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <h3 class="sidebar-title">OPERATIONS LOG</h3>
                    <div class="operations-log" id="operationsLog">
                        <div class="log-entry">System initialized</div>
                    </div>
                </div>
            </aside>

            <!-- Editor Container -->
            <div class="editor-container">
                <div class="editor-toolbar">
                    <select class="toolbar-select" id="languageSelect">
                        <option value="javascript">JavaScript</option>
                        <option value="python">Python</option>
                        <option value="html">HTML</option>
                        <option value="css">CSS</option>
                        <option value="json">JSON</option>
                    </select>
                    <div class="toolbar-divider"></div>
                    <button class="toolbar-btn" id="undoBtn" title="Undo">↶</button>
                    <button class="toolbar-btn" id="redoBtn" title="Redo">↷</button>
                    <div class="toolbar-divider"></div>
                    <button class="toolbar-btn" id="clearBtn" title="Clear">⌫</button>
                    <div class="connection-status" id="connectionStatus">
                        <div class="status-dot status-online"></div>
                        <span class="status-text">ONLINE</span>
                    </div>
                </div>

                <!-- Editor -->
                <div class="editor-wrapper">
                    <div class="line-numbers" id="lineNumbers"></div>
                    <div class="editor-content">
                        <textarea 
                            id="editor" 
                            class="editor-textarea" 
                            spellcheck="false"
                            placeholder="// Start typing...&#10;// Your collaborators will see changes in real-time"
                        ></textarea>
                        <div class="cursors-overlay" id="cursorsOverlay"></div>
                    </div>
                </div>

                <!-- Footer Stats -->
                <div class="editor-footer">
                    <div class="footer-item">
                        <span class="footer-label">Ln:</span>
                        <span id="currentLine">1</span>
                    </div>
                    <div class="footer-item">
                        <span class="footer-label">Col:</span>
                        <span id="currentCol">1</span>
                    </div>
                    <div class="footer-item">
                        <span class="footer-label">Latency:</span>
                        <span id="latency">0ms</span>
                    </div>
                    <div class="footer-item">
                        <span class="footer-label">OT Ops:</span>
                        <span id="otOps">0</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div class="modal" id="shareModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>SHARE SESSION</h2>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body">
                <p class="modal-text">Share this link with collaborators:</p>
                <div class="share-link-container">
                    <input type="text" class="share-link-input" id="shareLinkInput" readonly>
                    <button class="btn btn-copy" id="copyLinkBtn">COPY</button>
                </div>
                <p class="modal-hint">Anyone with this link can edit this document in real-time.</p>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="crdt.js"></script>
    <script src="sync-engine.js"></script>
    <script src="editor.js"></script>
    <script src="app.js"></script>
</body>
</html>httptt